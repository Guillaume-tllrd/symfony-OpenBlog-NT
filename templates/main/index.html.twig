{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block body %}
	<header>
		{# pour le dernier post: on prend lastPost #}
		<div>
			<img src="{{asset('uploads/articles/') ~ lastPost.featuredImage}}" alt="{{ lastPost.title }}">
		</div>
		<div>
			{% for category in lastPost.categories %}
				<span>{{category.name}}</span>
			{% endfor %}
		</div>

		<h3>{{lastPost.title}}</h3>
		<p>{{lastPost.users.nickname}}</p>
	</header>
	<main>
		<section>
			<h2>Derniers articles</h2>
			{% for post in posts %}
				{# le posts est ce qu'on a mis dans le controller dans le compact/tabkleau associatif #}
				{# pour l'<img on reprend son chemin dans upload + on rajoute le nom de sa var; pour la lini oin rajoute mini + 300x300 #}
					<div>
				<img src="{{asset('uploads/articles/mini/300x300-') ~ post.featuredImage}}" alt="{{ post.title }}"> </div>
				<div>
					{% for category in post.categories %}
						<span>{{category.name}}</span>
					{% endfor %}
				</div>
				<h3>{{post.title}}</h3>
				<p>{{post.users.nickname}}</p>
			{% endfor %}
		</section>
		<section>
			<h2>
				Auteurs actifs
			</h2>
			{% for author in authors %}
				<h3>{{author[0].nickname}}
					{{author.total}}</h3>
			{% endfor %}
		</section>
	</main>

	{# {% for prenom in prenoms %}
																<h1>{{prenom}}</h1>
															{% endfor %} #}
{# {% if affichePrenom %}
			<h1>Hello
				{{ prenom }}! âœ…</h1>
		{% else %}
			<h1>
				Bonjour
			</h1>
		{% endif %} #}
	{# on peut faire des conditions en mettant en var dans le controller #}
{% endblock %}
